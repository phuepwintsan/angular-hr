<p-toast key="globalMessage"></p-toast>
<div class="p-8">
  <form [formGroup]="allowanceForm" (submit)="submit()">
    <div class="grid grid-cols-12 gap-2">
      <div class="xl:col-span-6 col-span-12 flex flex-col gap-2">
        <label>Allowance Id</label>
        <input pInputText formControlName="allowanceId" type="number" />
      </div>
      <div class="col-span-6 flex flex-col gap-2">
        <label>Company Id</label>

        <div class="card flex w-full">
          <p-select
            [options]="companies"
            [(ngModel)]="selectedCompany"
            optionLabel="companyName"
            (onChange)="onCompanyChange()"
            placeholder="Select a City"
            class="w-full"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>

        <small
          *ngIf="
            allowanceForm.controls['companyId'].invalid &&
            allowanceForm.get('companyId')?.dirty
          "
          class="p-text"
        >
          Company Is Required.
        </small>
      </div>
      <div class="col-span-12 flex flex-col gap-2">
        <label>Branch Id</label>
        <div class="card flex w-full">
          <p-select
            [options]="branches"
            [(ngModel)]="selectedBranch"
            (onChange)="onBranchChange()"
            optionLabel="branchName"
            placeholder="Select a Name"
            class="w-full"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>

        <small
          *ngIf="
            allowanceForm.controls['branchId'].invalid &&
            allowanceForm.get('branchId')?.dirty
          "
          class="p-text"
        >
          Branch Is Required.
        </small>
      </div>
      <div class="col-span-12 flex flex-col gap-2">
        <label>Dept Id</label>
        <input pInputText formControlName="deptId" type="number" />
        <small
          *ngIf="
            allowanceForm.controls['deptId'].invalid &&
            allowanceForm.get('deptId')?.dirty
          "
          class="p-text"
        >
          Department Is Required.
        </small>
      </div>
      <div class="col-span-12 flex flex-col gap-2">
        <label>Position Id</label>
        <input pInputText formControlName="positionId" type="number" />
        <small
          *ngIf="
            allowanceForm.controls['positionId'].invalid &&
            allowanceForm.get('positionId')?.dirty
          "
          class="p-text"
        >
          Position Is Required.
        </small>
      </div>

      <div class="col-span-12 flex flex-col gap-2">
        <label>Allowance Name</label>
        <input pInputText formControlName="allowanceName" type="text" />
      </div>
      <div class="col-span-12 flex flex-col gap-2">
        <label>Description</label>
        <p-editor formControlName="description" [style]="{ height: '320px' }" />
      </div>
      <div class="col-span-12 flex flex-col gap-2">
        <label>Status</label>
        <p-toggleswitch formControlName="status" />
      </div>

      <!-- <div class="col-span-12 flex flex-col gap-2">
        <label>Created On</label>
        <input pInputText formControlName="createdOn" type="text" />
      </div>
      <div class="col-span-12 flex flex-col gap-2">
        <label>Created By</label>
        <input pInputText formControlName="createdBy" type="text" />
      </div>
      <div class="col-span-12 flex flex-col gap-2">
        <label>Updated On</label>
        <input pInputText formControlName="updatedOn" type="text" />
      </div>
      <div class="col-span-12 flex flex-col gap-2">
        <label>Updated By</label>
        <input pInputText formControlName="updatedBy" type="text" />
      </div>
      <div class="col-span-12 flex flex-col gap-2">
        <label>Deleted On</label>
        <input pInputText formControlName="deletedOn" type="text" />
      </div>
      <div class="col-span-12 flex flex-col gap-2">
        <label>Deleted By</label>
        <input pInputText formControlName="deletedBy" type="text" />
      </div>
      <div class="col-span-12 flex flex-col gap-2">
        <label>Remark</label>
        <input pInputText formControlName="remark" type="text" />
      </div> -->
      <div class="col-span-12">
        <button
          pButton
          type="submit"
          icon="pi pi-check"
          [disabled]="isSubmitting"
          [loading]="isSubmitting"
          class="w-24"
        >
          Submit
        </button>
      </div>
    </div>
  </form>
</div>
